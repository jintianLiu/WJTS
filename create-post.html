<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>发布帖子 - 无境探索论坛</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- 自定义样式 -->
    <link rel="stylesheet" href="forum-assets/css/style.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        /* 标签输入样式 */
        .tag-input-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 12px 16px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            min-height: 48px;
            align-items: center;
        }
        
        .tag {
            display: inline-flex;
            align-items: center;
            background-color: var(--accent-color);
            color: white;
            padding: 4px 8px;
            border-radius: 16px;
            font-size: 14px;
            gap: 4px;
        }
        
        .tag-remove {
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .tag-remove:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }
        
        .tag-input {
            flex: 1;
            min-width: 150px;
            border: none;
            outline: none;
            font-size: 16px;
            padding: 0;
        }
        
        /* 预览样式 */
        .preview-tab {
            background: transparent;
            border: none;
            font-size: 14px;
            color: var(--text-muted);
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .preview-tab.active {
            background-color: white;
            color: var(--accent-color);
            box-shadow: var(--shadow-sm);
        }
        
        .preview-content {
            display: none;
        }
        
        .preview-content.active {
            display: block;
        }
        
        /* 响应式优化 */
        @media (max-width: 768px) {
            .editor-footer {
                flex-direction: column;
                gap: 12px;
                align-items: stretch;
            }
            
            .editor-footer div {
                display: flex;
                justify-content: space-between;
            }
            
            .editor-footer button {
                flex: 1;
                margin: 0 4px;
            }
            
            .tag-input-container {
                padding: 8px 12px;
            }
            
            .tag-input {
                min-width: 100px;
                font-size: 14px;
            }
        }
        
        :root {
            --primary-color: #3b82f6;
            --secondary-color: #8b5cf6;
            --accent-color: #ec4899;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --info-color: #06b6d4;
            --dark-color: #1e293b;
            --light-color: #f8fafc;
            --bg-light: #f1f5f9;
            --text-dark: #0f172a;
            --text-muted: #64748b;
            --border-color: #e2e8f0;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --transition-fast: 150ms ease;
            --transition-normal: 250ms ease;
            --transition-slow: 350ms ease;
        }
        
        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background-color: var(--bg-light);
            color: var(--text-dark);
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        .editor-container {
            background-color: white;
            border-radius: 12px;
            box-shadow: var(--shadow-md);
            overflow: hidden;
        }
        
        .editor-header {
            border-bottom: 1px solid var(--border-color);
            padding: 16px 24px;
        }
        
        .editor-content {
            padding: 24px;
        }
        
        .editor-footer {
            border-top: 1px solid var(--border-color);
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .editor-toolbar {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 16px;
        }
        
        .toolbar-btn {
            background: transparent;
            border: 1px solid transparent;
            border-radius: 6px;
            padding: 8px 12px;
            color: var(--text-dark);
            cursor: pointer;
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .toolbar-btn:hover {
            background: var(--bg-light);
        }
        
        .toolbar-btn.active {
            background: var(--bg-light);
            border-color: var(--border-color);
        }
        
        .editor-area {
            min-height: 300px;
            outline: none;
            padding: 16px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 16px;
            line-height: 1.6;
            transition: border-color var(--transition-fast);
        }
        
        .editor-area:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.1);
        }
        
        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 16px;
            transition: all var(--transition-fast);
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.1);
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-dark);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .category-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .category-tag {
            padding: 6px 12px;
            border: 1px solid var(--border-color);
            border-radius: 20px;
            background: white;
            cursor: pointer;
            transition: all var(--transition-fast);
            font-size: 14px;
        }
        
        .category-tag:hover {
            background: var(--bg-light);
        }
        
        .category-tag.selected {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }
        
        .image-upload-area {
            border: 2px dashed var(--border-color);
            border-radius: 8px;
            padding: 24px;
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-normal);
        }
        
        .image-upload-area:hover {
            border-color: var(--accent-color);
            background: rgba(236, 72, 153, 0.05);
        }
        
        .image-upload-area input[type="file"] {
            display: none;
        }
        
        .upload-preview {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 12px;
            margin-top: 16px;
        }
        
        .preview-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .preview-item img {
            width: 100%;
            height: 100px;
            object-fit: cover;
        }
        
        .remove-image {
            position: absolute;
            top: 4px;
            right: 4px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--transition-fast);
            color: var(--danger-color);
        }
        
        .remove-image:hover {
            background: white;
            transform: scale(1.1);
        }
        
        .visibility-options {
            display: flex;
            gap: 16px;
        }
        
        .visibility-option {
            flex: 1;
            display: flex;
            align-items: center;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .visibility-option:hover {
            border-color: var(--accent-color);
        }
        
        .visibility-option.selected {
            border-color: var(--accent-color);
            background: rgba(236, 72, 153, 0.05);
        }
        
        .visibility-option input[type="radio"] {
            display: none;
        }
        
        .visibility-option .icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--bg-light);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 8px;
            color: var(--text-muted);
        }
        
        .visibility-option.selected .icon {
            background: var(--accent-color);
            color: white;
        }
        
        @media (max-width: 768px) {
            .editor-content {
                padding: 16px;
            }
            
            .visibility-options {
                flex-direction: column;
                gap: 8px;
            }
            
            .editor-footer {
                flex-direction: column;
                gap: 12px;
                align-items: stretch;
            }
            
            .editor-footer button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar fixed w-full bg-white/90 backdrop-blur-sm shadow-md z-50 transition-all duration-300">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <!-- 品牌标识 -->
                <a href="index.html" class="flex items-center space-x-2">
                    <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-indigo-500 to-pink-500 flex items-center justify-center">
                        <i class="fa fa-compass text-white text-xl"></i>
                    </div>
                    <span class="text-xl font-bold text-gray-800">无境探索</span>
                </a>
                
                <!-- 导航链接 -->
                <div class="hidden md:flex space-x-8">
                    <a href="index.html" class="text-gray-600 hover:text-pink-500 transition-colors duration-200">首页</a>
                    <a href="#" class="text-gray-600 hover:text-pink-500 transition-colors duration-200">发现</a>
                    <a href="#" class="text-gray-600 hover:text-pink-500 transition-colors duration-200">分类</a>
                    <a href="#" class="text-gray-600 hover:text-pink-500 transition-colors duration-200">热门</a>
                </div>
                
                <!-- 搜索栏 -->
                <div class="hidden md:flex items-center">
                    <div class="relative">
                        <input type="text" placeholder="搜索帖子、用户..." class="pl-10 pr-4 py-2 rounded-full bg-gray-100 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:bg-white transition-all duration-200 w-64">
                        <i class="fa fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>
                
                <!-- 用户菜单 -->
                <div class="flex items-center space-x-4">
                    <div class="relative group">
                        <button class="flex items-center space-x-2">
                            <img src="forum-assets/img/avatar.jpg" alt="用户头像" class="w-10 h-10 rounded-full object-cover border-2 border-white shadow-md hover:border-pink-500 transition-all duration-200">
                            <span class="text-gray-700 font-medium hidden md:block">旅行者</span>
                            <i class="fa fa-angle-down text-gray-500 hidden md:block"></i>
                        </button>
                        <div class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-100 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform translate-y-2 group-hover:translate-y-0 z-10">
                            <div class="p-4 border-b border-gray-100">
                                <p class="text-sm text-gray-500">已登录</p>
                                <p class="font-medium">旅行者</p>
                            </div>
                            <a href="profile.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-pink-500 transition-colors duration-200">
                                <i class="fa fa-user mr-2"></i>个人资料
                            </a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-pink-500 transition-colors duration-200">
                                <i class="fa fa-bookmark mr-2"></i>我的收藏
                            </a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-pink-500 transition-colors duration-200">
                                <i class="fa fa-cog mr-2"></i>设置
                            </a>
                            <div class="border-t border-gray-100 mt-1"></div>
                            <a href="#" class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-50 transition-colors duration-200">
                                <i class="fa fa-sign-out mr-2"></i>退出登录
                            </a>
                        </div>
                    </div>
                    <button class="md:hidden p-2 text-gray-600 hover:text-pink-500 transition-colors duration-200">
                        <i class="fa fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- 主内容区 -->
    <main class="container mx-auto px-4 pt-24 pb-16">
        <!-- 面包屑导航 -->
        <div class="breadcrumbs text-sm text-gray-500 mb-6">
            <a href="index.html" class="hover:text-pink-500">首页</a>
            <span class="mx-2">/</span>
            <span class="text-gray-700">发布帖子</span>
        </div>

        <div class="max-w-4xl mx-auto">
            <!-- 帖子编辑器 -->
            <div class="editor-container mb-8">
                <div class="editor-header">
                    <h1 class="text-xl font-bold text-gray-800">发布新帖子</h1>
                </div>
                
                <div class="editor-content">
                    <form id="postForm">
                        <div class="form-group">
                            <label for="postTitle" class="form-label">标题</label>
                            <input type="text" id="postTitle" name="postTitle" class="form-input" placeholder="给你的帖子起个标题吧...">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">分类</label>
                            <div class="category-tags">
                                <span class="category-tag">旅行日记</span>
                                <span class="category-tag">摄影分享</span>
                                <span class="category-tag">美食推荐</span>
                                <span class="category-tag">攻略教程</span>
                                <span class="category-tag">问答求助</span>
                                <span class="category-tag">结伴同行</span>
                                <span class="category-tag">装备评测</span>
                                <span class="category-tag">其他</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">正文</label>
                            
                            <!-- 编辑器工具栏 -->
                            <div class="editor-toolbar">
                                <button type="button" class="toolbar-btn" title="加粗">
                                    <i class="fa fa-bold"></i>
                                </button>
                                <button type="button" class="toolbar-btn" title="斜体">
                                    <i class="fa fa-italic"></i>
                                </button>
                                <button type="button" class="toolbar-btn" title="下划线">
                                    <i class="fa fa-underline"></i>
                                </button>
                                <button type="button" class="toolbar-btn" title="删除线">
                                    <i class="fa fa-strikethrough"></i>
                                </button>
                                <div class="h-8 w-px bg-gray-200 mx-1"></div>
                                <button type="button" class="toolbar-btn" title="标题">
                                    <i class="fa fa-header"></i>
                                </button>
                                <button type="button" class="toolbar-btn" title="无序列表">
                                    <i class="fa fa-list-ul"></i>
                                </button>
                                <button type="button" class="toolbar-btn" title="有序列表">
                                    <i class="fa fa-list-ol"></i>
                                </button>
                                <button type="button" class="toolbar-btn" title="引用">
                                    <i class="fa fa-quote-left"></i>
                                </button>
                                <button type="button" class="toolbar-btn" title="代码">
                                    <i class="fa fa-code"></i>
                                </button>
                                <div class="h-8 w-px bg-gray-200 mx-1"></div>
                                <button type="button" class="toolbar-btn" title="插入链接">
                                    <i class="fa fa-link"></i>
                                </button>
                                <button type="button" class="toolbar-btn" id="insertImageBtn" title="插入图片">
                                    <i class="fa fa-image"></i>
                                </button>
                                <button type="button" class="toolbar-btn" title="插入表情">
                                    <i class="fa fa-smile-o"></i>
                                </button>
                            </div>
                            
                            <!-- 编辑器内容区 -->
                            <div class="editor-area" contenteditable="true" placeholder="分享你的旅行故事..."></div>
                            <input type="hidden" id="postContent" name="postContent">
                            <div class="mt-3 text-right">
                                <span class="text-sm text-gray-500" id="contentCounter">0/5000</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">上传图片</label>
                            <div class="image-upload-area">
                                <input type="file" id="imageUpload" multiple accept="image/*">
                                <label for="imageUpload" class="cursor-pointer">
                                    <i class="fa fa-cloud-upload text-3xl text-gray-400 mb-2"></i>
                                    <p class="text-gray-600">点击或拖拽图片到这里上传</p>
                                    <p class="text-sm text-gray-500 mt-1">支持 JPG, PNG, GIF 格式，单张不超过 5MB</p>
                                </label>
                            </div>
                            
                            <!-- 图片预览区 -->
                            <div id="imagePreview" class="upload-preview"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="postTags" class="form-label">标签</label>
                            <div class="tag-input-container" id="tag-container">
                                <input type="text" class="tag-input" id="postTags" placeholder="输入标签后按回车添加">
                            </div>
                            <p class="text-xs text-gray-500 mt-1">添加相关标签，最多8个，按回车确认添加</p>
                        </div>
                        
                        <!-- 帖子设置 -->
                        <div class="form-group">
                            <label class="form-label">发布设置</label>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <div class="flex items-center justify-between mb-3">
                                    <div>
                                        <div class="font-medium">发布方式</div>
                                        <div class="text-xs text-gray-500">选择何时发布你的帖子</div>
                                    </div>
                                    <select id="publishMethod" class="form-input w-36 text-sm">
                                        <option value="immediate">立即发布</option>
                                        <option value="draft">保存为草稿</option>
                                        <option value="schedule">定时发布</option>
                                    </select>
                                </div>
                                
                                <div class="hidden" id="scheduleTimeContainer">
                                    <div class="font-medium mb-1">定时发布时间</div>
                                    <input type="datetime-local" id="scheduleTime" class="form-input text-sm">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">可见性</label>
                            <div class="visibility-options">
                                <label class="visibility-option selected">
                                    <input type="radio" name="visibility" value="public" checked>
                                    <div class="icon">
                                        <i class="fa fa-globe"></i>
                                    </div>
                                    <div>
                                        <div class="font-medium">公开</div>
                                        <div class="text-xs text-gray-500">所有人可见</div>
                                    </div>
                                </label>
                                <label class="visibility-option">
                                    <input type="radio" name="visibility" value="friends">
                                    <div class="icon">
                                        <i class="fa fa-users"></i>
                                    </div>
                                    <div>
                                        <div class="font-medium">好友可见</div>
                                        <div class="text-xs text-gray-500">仅关注你的人可见</div>
                                    </div>
                                </label>
                                <label class="visibility-option">
                                    <input type="radio" name="visibility" value="private">
                                    <div class="icon">
                                        <i class="fa fa-lock"></i>
                                    </div>
                                    <div>
                                        <div class="font-medium">私密</div>
                                        <div class="text-xs text-gray-500">仅自己可见</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </form>
                </div>
                
                <div class="editor-footer">
                    <div>
                        <button type="button" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 mr-2">
                            <i class="fa fa-save mr-1"></i> 保存草稿
                        </button>
                        <button type="button" id="togglePreviewBtn" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200">
                            <i class="fa fa-eye mr-1"></i> 预览
                        </button>
                    </div>
                    <div>
                        <button type="button" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 mr-3">
                            取消
                        </button>
                        <button type="button" id="submitPost" class="px-6 py-2 bg-gradient-to-r from-pink-500 to-purple-500 text-white font-medium rounded-lg shadow-md hover:shadow-lg transition-all duration-200 transform hover:-translate-y-0.5">
                            发布帖子
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- 预览区域 -->
            <div id="previewSection" class="hidden mb-8">
                <div class="bg-white rounded-xl shadow-md overflow-hidden">
                    <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                        <div class="flex space-x-2">
                            <button type="button" class="preview-tab active px-4 py-2 rounded-md" data-preview="desktop">
                                <i class="fa fa-desktop mr-1"></i> 桌面预览
                            </button>
                            <button type="button" class="preview-tab px-4 py-2 rounded-md" data-preview="mobile">
                                <i class="fa fa-mobile mr-1"></i> 移动预览
                            </button>
                        </div>
                    </div>
                    
                    <div class="p-6">
                        <div id="desktopPreview" class="preview-content active">
                            <h2 id="previewTitle" class="text-xl font-bold text-gray-800 mb-2">帖子标题预览</h2>
                            <div class="flex items-center text-sm text-gray-500 mb-4">
                                <img src="forum-assets/img/avatar.jpg" alt="用户头像" class="w-6 h-6 rounded-full mr-2">
                                <span>旅行者</span>
                                <span class="mx-2">·</span>
                                <span id="previewCategory">未分类</span>
                                <span class="mx-2">·</span>
                                <span>刚刚</span>
                            </div>
                            <div id="previewTags" class="flex flex-wrap gap-2 mb-4">
                                <!-- 标签预览将在这里显示 -->
                            </div>
                            <div id="previewContent" class="prose max-w-none">
                                <p class="text-gray-500 italic">开始编写内容后将在此处显示预览...</p>
                            </div>
                        </div>
                        
                        <div id="mobilePreview" class="preview-content hidden mx-auto max-w-xs bg-gray-50 rounded-xl p-4 border border-gray-200">
                            <h2 id="mobilePreviewTitle" class="text-lg font-bold text-gray-800 mb-2">帖子标题预览</h2>
                            <div class="flex items-center text-xs text-gray-500 mb-3">
                                <img src="forum-assets/img/avatar.jpg" alt="用户头像" class="w-5 h-5 rounded-full mr-1">
                                <span>旅行者</span>
                                <span class="mx-1">·</span>
                                <span>刚刚</span>
                            </div>
                            <div id="mobilePreviewTags" class="flex flex-wrap gap-1 mb-3">
                                <!-- 标签预览将在这里显示 -->
                            </div>
                            <div id="mobilePreviewContent" class="text-sm">
                                <p class="text-gray-500 italic">开始编写内容后将在此处显示预览...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 发帖提示 -->
            <div class="bg-white rounded-xl shadow-md p-6">
                <h3 class="font-bold text-gray-800 mb-3">发布须知</h3>
                <ul class="text-gray-600 space-y-2">
                    <li class="flex items-start">
                        <i class="fa fa-check-circle text-green-500 mt-0.5 mr-2"></i>
                        <span>请确保您发布的内容符合社区规范，不包含违规信息</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check-circle text-green-500 mt-0.5 mr-2"></i>
                        <span>尊重原创，转载内容请注明来源</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check-circle text-green-500 mt-0.5 mr-2"></i>
                        <span>优质的原创内容将有机会被推荐到首页</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check-circle text-green-500 mt-0.5 mr-2"></i>
                        <span>发布成功后，您可以在个人中心查看和管理自己的帖子</span>
                    </li>
                </ul>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="container mx-auto px-4">
            <div class="footer-content">
                <div>
                    <div class="footer-logo">无境探索</div>
                    <p class="footer-text">无境探索论坛是一个致力于分享旅行体验、交流旅行技巧的社区平台。无论你是资深旅行者还是旅行新手，这里都能找到志同道合的朋友。</p>
                    <div class="footer-social">
                        <a href="#" class="social-link"><i class="fa fa-weibo"></i></a>
                        <a href="#" class="social-link"><i class="fa fa-wechat"></i></a>
                        <a href="#" class="social-link"><i class="fa fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fa fa-twitter"></i></a>
                    </div>
                </div>
                <div>
                    <h3 class="footer-heading">快速链接</h3>
                    <ul class="footer-links">
                        <li class="footer-link-item"><a href="index.html" class="footer-link">首页</a></li>
                        <li class="footer-link-item"><a href="#" class="footer-link">分类浏览</a></li>
                        <li class="footer-link-item"><a href="#" class="footer-link">热门话题</a></li>
                        <li class="footer-link-item"><a href="#" class="footer-link">最新活动</a></li>
                        <li class="footer-link-item"><a href="#" class="footer-link">精华内容</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="footer-heading">关于我们</h3>
                    <ul class="footer-links">
                        <li class="footer-link-item"><a href="#" class="footer-link">网站介绍</a></li>
                        <li class="footer-link-item"><a href="#" class="footer-link">加入我们</a></li>
                        <li class="footer-link-item"><a href="#" class="footer-link">用户协议</a></li>
                        <li class="footer-link-item"><a href="#" class="footer-link">隐私政策</a></li>
                        <li class="footer-link-item"><a href="#" class="footer-link">联系我们</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="footer-heading">订阅更新</h3>
                    <p class="footer-text">订阅我们的电子报，获取最新的旅行资讯和社区动态。</p>
                    <form>
                        <div class="flex">
                            <input type="email" placeholder="输入你的邮箱" class="form-input flex-1 rounded-r-none">
                            <button type="submit" class="px-4 bg-pink-500 text-white rounded-l-none hover:bg-pink-600 transition-colors duration-200">
                                订阅
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="footer-bottom-links">
                    <a href="#" class="footer-bottom-link">用户协议</a>
                    <a href="#" class="footer-bottom-link">隐私政策</a>
                    <a href="#" class="footer-bottom-link">帮助中心</a>
                    <a href="#" class="footer-bottom-link">网站地图</a>
                </div>
                <p>&copy; 2024 无境探索论坛. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="forum-assets/js/scripts.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化页面加载动画
            if (typeof initPageLoader === 'function') {
                initPageLoader();
            }
            
            // 初始化变量
            const postTitle = document.getElementById('postTitle');
            const editorArea = document.querySelector('.editor-area');
            const postContentInput = document.getElementById('postContent');
            const contentCounter = document.getElementById('contentCounter');
            const postTags = document.getElementById('postTags');
            const tagContainer = document.getElementById('tag-container');
            const categoryTags = document.querySelectorAll('.category-tag');
            const visibilityOptions = document.querySelectorAll('.visibility-option');
            const publishMethod = document.getElementById('publishMethod');
            const scheduleTimeContainer = document.getElementById('scheduleTimeContainer');
            const submitPostBtn = document.getElementById('submitPost');
            const togglePreviewBtn = document.getElementById('togglePreviewBtn');
            const previewSection = document.getElementById('previewSection');
            const previewTabs = document.querySelectorAll('.preview-tab');
            
            // 标签管理
            let tags = [];
            const maxTags = 8;
            
            // 分类标签选择
            categoryTags.forEach(tag => {
                tag.addEventListener('click', function() {
                    categoryTags.forEach(t => t.classList.remove('selected'));
                    this.classList.add('selected');
                    updatePreview();
                });
            });
            
            // 可见性选项选择
            visibilityOptions.forEach(option => {
                option.addEventListener('click', function() {
                    visibilityOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    this.querySelector('input[type="radio"]').checked = true;
                });
            });
            
            // 发布方式切换
            publishMethod.addEventListener('change', function() {
                if (this.value === 'schedule') {
                    scheduleTimeContainer.classList.remove('hidden');
                } else {
                    scheduleTimeContainer.classList.add('hidden');
                }
            });
            
            // 编辑器工具栏功能
            const toolbarBtns = document.querySelectorAll('.toolbar-btn');
            
            toolbarBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // 简单的编辑器功能演示
                    const formatCommand = this.querySelector('i').classList[1];
                    let command = '';
                    
                    switch(formatCommand) {
                        case 'fa-bold': command = 'bold'; break;
                        case 'fa-italic': command = 'italic'; break;
                        case 'fa-underline': command = 'underline'; break;
                        case 'fa-strikethrough': command = 'strikeThrough'; break;
                        case 'fa-list-ul': command = 'insertUnorderedList'; break;
                        case 'fa-list-ol': command = 'insertOrderedList'; break;
                        case 'fa-quote-left': 
                            command = 'formatBlock'; 
                            document.execCommand(command, false, 'blockquote'); 
                            return;
                        case 'fa-code':
                            command = 'formatBlock';
                            document.execCommand(command, false, 'pre');
                            return;
                        case 'fa-header':
                            command = 'formatBlock';
                            document.execCommand(command, false, 'h3');
                            return;
                    }
                    
                    if (command) {
                        document.execCommand(command, false, null);
                        editorArea.focus();
                        updatePreview();
                    }
                });
            });
            
            // 插入图片功能
            const insertImageBtn = document.getElementById('insertImageBtn');
            const imageUpload = document.getElementById('imageUpload');
            const imagePreview = document.getElementById('imagePreview');
            
            insertImageBtn.addEventListener('click', function() {
                imageUpload.click();
            });
            
            imageUpload.addEventListener('change', function(e) {
                const files = e.target.files;
                
                for (let i = 0; i < files.length; i++) {
                    const file = files[i];
                    if (!file.type.startsWith('image/')) continue;
                    
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        const previewItem = document.createElement('div');
                        previewItem.className = 'preview-item';
                        previewItem.innerHTML = `
                            <img src="${event.target.result}" alt="预览图片">
                            <span class="remove-image">
                                <i class="fa fa-times"></i>
                            </span>
                        `;
                        
                        // 添加删除功能
                        const removeBtn = previewItem.querySelector('.remove-image');
                        removeBtn.addEventListener('click', function() {
                            previewItem.remove();
                        });
                        
                        imagePreview.appendChild(previewItem);
                        
                        // 将图片也插入到编辑器中
                        const imgTag = document.createElement('img');
                        imgTag.src = event.target.result;
                        imgTag.style.maxWidth = '100%';
                        imgTag.style.height = 'auto';
                        document.execCommand('insertHTML', false, imgTag.outerHTML);
                        
                        updatePreview();
                    };
                    
                    reader.readAsDataURL(file);
                }
            });
            
            // 标签输入功能
            postTags.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && this.value.trim() && tags.length < maxTags) {
                    e.preventDefault();
                    addTag(this.value.trim());
                    this.value = '';
                }
            });
            
            function addTag(tagText) {
                // 检查是否已存在相同标签
                if (tags.includes(tagText)) {
                    showNotification('标签已存在', 'warning');
                    return;
                }
                
                tags.push(tagText);
                
                const tagElement = document.createElement('div');
                tagElement.className = 'tag';
                tagElement.innerHTML = `
                    <span>${tagText}</span>
                    <span class="tag-remove"><i class="fa fa-times"></i></span>
                `;
                
                // 插入到输入框前面
                tagContainer.insertBefore(tagElement, postTags);
                
                // 添加删除事件
                tagElement.querySelector('.tag-remove').addEventListener('click', function() {
                    tags = tags.filter(tag => tag !== tagText);
                    tagElement.remove();
                    updatePreview();
                });
                
                updatePreview();
            }
            
            // 预览切换功能
            togglePreviewBtn.addEventListener('click', function() {
                previewSection.classList.toggle('hidden');
                if (!previewSection.classList.contains('hidden')) {
                    updatePreview();
                }
            });
            
            // 预览标签切换
            previewTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // 移除所有活动状态
                    previewTabs.forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.preview-content').forEach(c => c.classList.remove('active'));
                    
                    // 添加当前活动状态
                    this.classList.add('active');
                    const previewId = this.getAttribute('data-preview') + 'Preview';
                    document.getElementById(previewId).classList.add('active');
                });
            });
            
            // 实时更新预览
            postTitle.addEventListener('input', updatePreview);
            editorArea.addEventListener('input', updatePreview);
            editorArea.addEventListener('paste', function() {
                setTimeout(updatePreview, 0);
            });
            
            // 内容计数器
            editorArea.addEventListener('input', function() {
                const text = this.textContent || '';
                const count = text.length;
                const maxLength = 5000;
                
                contentCounter.textContent = `${count}/${maxLength}`;
                
                if (count > maxLength) {
                    contentCounter.classList.add('text-red-500');
                } else {
                    contentCounter.classList.remove('text-red-500');
                }
            });
            
            function updatePreview() {
                // 更新标题预览
                const titleValue = postTitle.value || '帖子标题预览';
                document.getElementById('previewTitle').textContent = titleValue;
                document.getElementById('mobilePreviewTitle').textContent = titleValue;
                
                // 更新分类预览
                const selectedCategory = document.querySelector('.category-tag.selected');
                const categoryText = selectedCategory ? selectedCategory.textContent : '未分类';
                document.getElementById('previewCategory').textContent = categoryText;
                
                // 更新标签预览
                const previewTagsElement = document.getElementById('previewTags');
                const mobilePreviewTagsElement = document.getElementById('mobilePreviewTags');
                
                previewTagsElement.innerHTML = '';
                mobilePreviewTagsElement.innerHTML = '';
                
                tags.forEach(tag => {
                    const tagElement = document.createElement('span');
                    tagElement.className = 'text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded';
                    tagElement.textContent = tag;
                    previewTagsElement.appendChild(tagElement);
                    
                    const mobileTagElement = tagElement.cloneNode(true);
                    mobilePreviewTagsElement.appendChild(mobileTagElement);
                });
                
                // 更新内容预览
                const contentValue = editorArea.innerHTML || '<p class="text-gray-500 italic">开始编写内容后将在此处显示预览...</p>';
                document.getElementById('previewContent').innerHTML = contentValue;
                document.getElementById('mobilePreviewContent').innerHTML = contentValue;
            }
            
            // 提交表单
            submitPostBtn.addEventListener('click', function() {
                // 获取编辑器内容
                postContentInput.value = editorArea.innerHTML;
                
                // 表单验证
                if (!postTitle.value.trim()) {
                    showNotification('请输入帖子标题', 'error');
                    postTitle.focus();
                    return;
                }
                
                if (!editorArea.textContent.trim() || editorArea.textContent.length < 10) {
                    showNotification('请输入至少10个字的帖子内容', 'error');
                    editorArea.focus();
                    return;
                }
                
                if (editorArea.textContent.length > 5000) {
                    showNotification('内容超过最大字数限制', 'error');
                    editorArea.focus();
                    return;
                }
                
                if (!document.querySelector('.category-tag.selected')) {
                    showNotification('请选择帖子分类', 'error');
                    return;
                }
                
                if (publishMethod.value === 'schedule' && !document.getElementById('scheduleTime').value) {
                    showNotification('请设置定时发布时间', 'error');
                    return;
                }
                
                // 模拟提交成功
                showNotification('帖子发布成功！', 'success');
                
                // 延迟后跳转到首页
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 1500);
            });
            
            // 编辑器占位符
            editorArea.addEventListener('focus', function() {
                if (this.innerHTML.trim() === '') {
                    this.innerHTML = '';
                }
            });
            
            editorArea.addEventListener('blur', function() {
                if (this.innerHTML.trim() === '') {
                    this.innerHTML = '';
                }
            });
            
            // 初始化搜索建议
            if (typeof initSearchSuggestions === 'function') {
                initSearchSuggestions();
            }
            
            // 初始化工具提示
            if (typeof initTooltips === 'function') {
                initTooltips();
            }
        });
    </script>
</body>
</html>